(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{23:function(e,t,a){e.exports=a(37)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),c=a(15),l=a.n(c),r=(a(28),a(29),a(30),a(9)),u=a(4),d=a(14),i=a(10),s=a(2);function m(){return{type:"TODO/CLEAR_COMPLETED"}}function O(e){return{type:"TODOS/TOGLE_ALL",payload:e}}var p=a(34),E={deleteTodo:function(e){return{type:"TODO/DELETE_TODO",payload:e}},completeTodo:function(e){return{type:"TODO/COMPLETE_TODO",payload:e}},changeTitle:function(e,t){return{type:"CHANGE_TITLE",payload:{id:e,title:t}}}},f=Object(u.b)(null,E)((function(e){var t=e.todo,a=e.deleteTodo,c=e.completeTodo,l=e.changeTitle,r=Object(o.useState)(t.title),u=Object(i.a)(r,2),d=u[0],s=u[1],m=Object(o.useState)(!1),O=Object(i.a)(m,2),E=O[0],f=O[1],b=Object(o.useRef)(null);return Object(o.useEffect)((function(){b.current.focus()}),[E,t]),n.a.createElement("li",{key:t.id,className:p([{completed:t.completed},{editing:E}])},n.a.createElement("div",{className:"view"},n.a.createElement("input",{checked:t.completed,type:"checkbox",className:p(["toggle",{completed:t.completed}]),value:t.completed,onChange:function(){c(t.id)}}),n.a.createElement("label",{onDoubleClick:function(){f(!0)}},t.title),n.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return a(t.id)}})),n.a.createElement("input",{ref:b,type:"text",className:"edit",value:d,onChange:function(e){return s(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&f(!1),"Escape"===e.key&&(s(t.title),f(!1))},onBlur:function(){""!==d.trim()?l(t.id,d):s(t.title),f(!1)}}))})),b=Object(u.b)((function(e){return{todos:e.todos.todos}}),null)((function(e){var t=e.todos,a=Object(o.useState)(t),c=Object(i.a)(a,2),l=c[0],r=c[1],u=Object(s.d)();return Object(o.useEffect)((function(){u.pathname.includes("/completed")?r(t.filter((function(e){return e.completed}))):u.pathname.includes("/active")?r(t.filter((function(e){return!e.completed}))):r(t)}),[t,u]),n.a.createElement("ul",{className:"todo-list",key:"keyUL"},l.map((function(e){return n.a.createElement(f,{key:"".concat(e.id,"-todo"),todo:e})})))})),T=Object(u.b)(null,{addTodo:function(e){return{type:"TODO/CREATE_TODO",payload:e}}})((function(e){var t=e.addTodo,a=Object(o.useState)(""),c=Object(i.a)(a,2),l=c[0],r=c[1];return n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==l.trim()&&(t({title:l,id:+new Date,completed:!1}),r(""))}},n.a.createElement("input",{onChange:function(e){r(e.target.value)},value:l,type:"text",className:"new-todo",placeholder:"What needs to be done?"}))})),j={toggleAll:O},g=Object(u.b)((function(e){return{toggleAllValue:e.todos.todos.some((function(e){return!e.completed}))}}),j)((function(e){var t=e.toggleAllValue,a=e.toggleAll;return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:!t,onClick:function(){return a(t)}}),n.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"))})),y="/",h="/active",D="/completed",v=function(){return n.a.createElement("ul",{className:"filters"},n.a.createElement("li",{key:"all"},n.a.createElement(r.b,{exact:!0,to:{pathname:y},activeClassName:"selected"},"All")),n.a.createElement("li",{key:"active"},n.a.createElement(r.b,{exact:!0,to:{pathname:h},activeClassName:"selected"},"active")),n.a.createElement("li",{key:"completed"},n.a.createElement(r.b,{exact:!0,to:{pathname:D},activeClassName:"selected"},"Completed")))},C=Object(u.b)((function(e){return{todos:e.todos.todos,gotCompleted:e.todos.todos.some((function(e){return e.completed}))}}),{clearCompleted:m})((function(e){var t=e.gotCompleted,a=e.todos,o=e.clearCompleted;return n.a.createElement("footer",{className:"footer"},n.a.createElement("span",{className:"todo-count"},a.filter((function(e){return!e.completed})).length," ","items left"),n.a.createElement(v,null),t&&n.a.createElement("button",{type:"button",className:"clear-completed",onClick:o},"Clear completed"))}));var N=Object(u.b)((function(e){return{todos:e.todos.todos}}),{clearCompleted:m,toggleAll:O})((function(e){var t=e.todos;return Object(o.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(t))}),[t]),n.a.createElement("section",{className:"todoapp"},n.a.createElement("header",{className:"header"},n.a.createElement("h1",null,"todos"),n.a.createElement(T,null)),n.a.createElement("section",{className:"main"},t.length>0?n.a.createElement(g,null):"",n.a.createElement(b,null)),t.length>0?n.a.createElement(C,null):"")})),_=a(22),k=a(3),L={todos:JSON.parse(localStorage.getItem("todos"))||[]},S=Object(d.a)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TODO/CREATE_TODO":return Object(k.a)(Object(k.a)({},e),{},{todos:[t.payload].concat(Object(_.a)(e.todos))});case"TODO/DELETE_TODO":return Object(k.a)(Object(k.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.payload}))});case"TODO/COMPLETE_TODO":return Object(k.a)(Object(k.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.payload?Object(k.a)(Object(k.a)({},e),{},{completed:!e.completed}):e}))});case"TODO/CLEAR_COMPLETED":return Object(k.a)(Object(k.a)({},e),{},{todos:e.todos.filter((function(e){return!e.completed}))});case"TODOS/TOGLE_ALL":return Object(k.a)(Object(k.a)({},e),{},{todos:e.todos.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{completed:t.payload})}))});case"CHANGE_TITLE":return Object(k.a)(Object(k.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.payload.id?Object(k.a)(Object(k.a)({},e),{},{title:t.payload.title}):e}))});default:return e}}}),A=Object(d.c)(S,Object(d.b)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));l.a.render(n.a.createElement(u.a,{store:A},n.a.createElement(r.a,null,n.a.createElement(N,null))),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.09f73bde.chunk.js.map